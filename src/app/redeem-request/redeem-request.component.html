<div class="main-container">
  <div class="middle-container mb0">
    <div class="page-heading w250">

      <img src="assets/img/calender.svg" class="h-icon h16">
      <div class="heading-text">
        <h2>Redeem Request</h2>
      </div>

      <div class="left-auto ml10">
        <div class="from-fields cs-flex">
          <!-- <div class="control-field mr10">
            <mat-form-field class="cs-input date-column infix-bodr">
              <input matInput [matDatepicker]="picker1" max="{{today_date}}" placeholder="From" name="date_from"
                [(ngModel)]="data.date_from" (dateChange)="onDateBetween($event,'date_from')" readonly>
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>
          </div> -->

          <!-- <div class="control-field mr10">
            <mat-form-field class="cs-input date-column infix-bodr">
              <input matInput [matDatepicker]="pickers" placeholder="To" max="{{today_date}}" min="{{data.date_from}}"
                name="date_to" [(ngModel)]="data.date_to" (dateChange)="onDateBetween($event,'date_to')" readonly>
              <mat-datepicker-toggle matSuffix [for]="pickers"></mat-datepicker-toggle>
              <mat-datepicker #pickers></mat-datepicker>
            </mat-form-field>
          </div> -->
        </div>

        <!-- <div class="cs-flex" *ngIf="data.date_from && data.date_to">
          <button mat-raised-button style="background-color: #275478; color: #fff"
            (click)="attendance_list('getAttendance',2)">
            Go
          </button>
        </div> -->

        <!-- <div class="cs-flex" *ngIf="data.date_from == '' && data.date_to == '' ">
          <button mat-raised-button style="background-color: #275478; color: #fff">
            Go
          </button>
        </div> -->

      </div>

    </div>

    <div class="uppr-one m-right-data">
      <ul>
        <li class="refresh-area mr0 after-none">
          <a class="refresh-btn" mat-raised-button (click)="refresh()" matTooltip="Refresh"><i class="material-icons">
              refresh</i></a>
        </li>
      </ul>
      <div class="tabs ml15">
        <ul>
          <!-- <li><a class="" [ngClass]="search_val.active_tab == 'Office' ? 'active' : ''"
              (click)="search_val.active_tab = 'Office';getReportIncentive();">Office User </a></li> -->
          <li><a class="" [ngClass]="active_tab == 'All' ? 'active' : ''"
              (click)="active_tab = 'All'; userRedeemRequestlist=[]; getUserRedeemRequestList();">All</a>
          </li>
          <li><a class="" [ngClass]="active_tab == 'Pending' ? 'active' : ''"
              (click)="active_tab= 'Pending';userRedeemRequestlist=[]; getUserRedeemRequestList();">Pending
            </a></li>
          <li><a class="" [ngClass]="active_tab == 'Approved' ? 'active' : ''"
              (click)="active_tab= 'Approved';userRedeemRequestlist=[]; getUserRedeemRequestList();">Approved
            </a></li>
          <li><a class="" [ngClass]="active_tab == 'Reject' ? 'active' : ''"
              (click)="active_tab= 'Reject';userRedeemRequestlist=[]; getUserRedeemRequestList();">Reject
            </a></li>

        </ul>
      </div>
      <!-- <div class="tabs">
        <ul>
          <li><a class="pr50" [ngClass]="show_today ? 'active' : ''" (click)="change_tab('getattendance_today',1)">Today
              <span class="counter">{{count_1}}</span></a></li>
          <li><a class="pr50" [ngClass]="!show_today ? 'active' : ''" (click)="change_tab('getAttendance',2)">All <span
                class="counter">{{count_2}}</span></a></li>
        </ul>
      </div> -->
    </div>


  </div>
  <!-- <div class="container-outer"> -->


  <div class="container tab-container">
    <div class="row">
      <!-- <div class="col s12"> -->
      <div class="cs-table cs-table-scroll">
        <div class="stickyTableHead" style="width: fit-content;">
          <div class="table-head">
            <table>
              <tr>
                <th class="w100">S.no.</th>
                <th class="w100">Date Created</th>
                <th class="w130">User Name</th>
                <th class="w100">Mobile</th>
                <th class="w130">Req Id</th>
                <th class="w100">Point</th>
                <th class="w100">Redeem Point</th>
                <th class="w130">Gift Name</th>
                <th class="w130">Gift Description</th>
                <th class="w130">Gift Image</th>
                <th class="w170"  *ngIf="active_tab == 'Reject'">Reject Reason</th>
                <th class="w170"  *ngIf="active_tab == 'All'">Redeem Request Status</th>
                <th class="w130"   *ngIf="active_tab == 'All'">Action</th>

              </tr>
            </table>
          </div>

          <div class="table-head bdrt">
            <table>
              <tr>
                <th class="w100"></th>
                <th class="w100">
                  <div class="th-search-acmt">
                    <mat-form-field class="cs-input date-column infix-bodr">
                      <input matInput [matDatepicker]="picker" placeholder="Date" name="date_created"
                        [(ngModel)]="search_val.date_created" (dateChange)="onDateChange(search_val.date_created)"
                        readonly>
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                  </div>
                </th>
                <th class="w130">
                  <div class="th-search-acmt">
                    <mat-form-field class="example-full-width cs-input select-input">
                      <input matInput placeholder="Search...." (keyup.enter)="getUserRedeemRequestList()"
                        [(ngModel)]="search_val.user_name">
                    </mat-form-field>
                  </div>
                </th>
                <th class="w100">
                  <div class="th-search-acmt">
                    <mat-form-field class="example-full-width cs-input select-input">
                      <input matInput placeholder="Search...." minlength="10" maxlength="10"
                        onkeypress="return event.charCode >=48 && event.charCode<=57"
                        (keyup.enter)="getUserRedeemRequestList()" [(ngModel)]="search_val.contact_01">
                    </mat-form-field>
                  </div>
                </th>

                <th class="w130">
                  <div class="th-search-acmt">
                    <mat-form-field class="example-full-width cs-input select-input">
                      <input matInput placeholder="Search...." minlength="10" maxlength="10"
                        onkeypress="return event.charCode >=48 && event.charCode<=57"
                        (keyup.enter)="getUserRedeemRequestList()" [(ngModel)]="search_val.id">
                    </mat-form-field>
                  </div>
                </th>
                <th class="w100"></th>
                <th class="w100"></th>
                <th class="w130">
                  <div class="th-search-acmt">
                    <mat-form-field class="example-full-width cs-input select-input">
                      <input matInput placeholder="Enter Gift Title...." (keyup.enter)="getUserRedeemRequestList()"
                        [(ngModel)]="search_val.gift_title">
                    </mat-form-field>
                  </div>
                </th>
                <th class="w130"></th>
                <th class="w130"></th>

                <th class="w170"  *ngIf="active_tab == 'Reject'"></th>
                <th class="w170"  *ngIf="active_tab == 'All'"></th>
                <th class="w130"  *ngIf="active_tab == 'All'"></th>
              </tr>

            </table>
          </div>
        </div>
        <div class="table-container"  style="width: fit-content;">
          <div class="table-content">
            <table>
              <tr *ngFor="let p of userRedeemRequestlist; let i=index">
                <td class="w100">{{i+1}}</td>
                <td class="w100">{{p.date_created | date:'dd MMM yyyy'}}</td>
                <td class="w130"  matTooltip="{{p.user_name}}" matTooltipPosition="above" >
                  <p class="one-line"> {{p.user_name | titlecase}}</p>
                 
                </td>
                <td class="w100">{{p.contact_01}}</td>
                <td class="w130">#req-id-{{p.id}}</td>
                <td class="w100">{{p.points}}</td>
                <td class="w100">{{p.reedeem_points}}</td>
                <td class="w130">{{p.gift_title}}</td>
                <td class="w130">{{p.gift_specification}}</td>
                <td class="w130">
                  <img *ngIf="p.image!=''" height="40px" width="40px" style="cursor: zoom-in;" src="{{serve.gift_image_url+p.image}}"
                    (click)="openDialog2(serve.gift_image_url+p.image)" />
                  <img *ngIf="p.image==''" height="40px" width="40px" src="assets/img/no-data.gif" />
                </td>
                <td class="w170"   *ngIf="active_tab == 'Reject'"   matTooltip="{{p.reject_reason}}" matTooltipPosition="above">   <p class="one-line"> {{p.reject_reason | titlecase}}</p></td>
                <td class="w170" [ngClass]="p.reedem_req_status=='Approved' ? 'green-clr':p.reedem_req_status=='Reject' ? 'red-clr':''"  *ngIf="active_tab == 'All'">{{p.reedem_req_status}}</td>
                <td class="w130"  *ngIf="active_tab == 'All'">
                  <a class="blue"   *ngIf="p.reedem_req_status=='Pending'" (click)="openRedeemRequestStatusModal(p)">
                    Status
                  </a>
                </td>
              </tr>

             
              <ng-container *ngFor="let lead of skelton">
                <tr class="sk-loading" *ngIf="loader">
                  <td class="w100">
                    <div>&nbsp;</div>
                  </td>
                  <!-- S no -->
                  <td class="w100">
                    <div>&nbsp;</div>
                  </td>
                  <!-- Date Created-->
                  <td class="w130">
                    <div>&nbsp;</div>
                  </td>
                  <!-- User name -->
                  <td class="w100">
                    <div>&nbsp;</div>
                  </td>
                  <!-- Mobile -->
                  <td class="w130">
                    <div>&nbsp;</div>
                  </td>
                  <!-- Req Id -->
                  <td class="w130">
                    <div>&nbsp;</div>
                  </td>
                  <!-- Point-->
                  <td class="w130">
                    <div>&nbsp;</div>
                  </td>
                  <!-- Redeem Points -->
                  <td class="w130">
                    <div>&nbsp;</div>
                  </td>
                  <!-- Gift Name -->
                  <td class="w130">
                    <div>&nbsp;</div>
                  </td>
                  <!-- gift description -->
                  <td class="w130">
                    <div>&nbsp;</div>
                  </td>
                  <!-- gift Image -->
                  <td class="w170">
                    <div>&nbsp;</div>
                  </td>
                  <!-- Redeem Request Status -->
                  <td class="w130">
                    <div>&nbsp;</div>
                  </td>
                  <!-- Action -->

                </tr>
              </ng-container>
            </table>
            <div class="search-results" data-infinite-scroll debounce [infiniteScrollDistance]="1"
              [infiniteScrollUpDistance]="2" [infiniteScrollThrottle]="10" (scrolled)="getUserRedeemRequestList()">
            </div>

          </div>
        </div>
        <div class="data-not-available" *ngIf="userRedeemRequestlist.length<1">
          <div class="outer">
            <div class="iinear">
              <div class="figure" matRipple>
                <div class="header">
                  <img src="assets/img/data-not-available-header.svg" alt="">
                </div>
                <div class="description">
                  <div class="cs-heading">
                    <h2>Redeem Request List</h2>

                  </div>
                  <div class="img">
                    <i class="material-icons">error_outline</i>
                  </div>
                  <div class="psc">
                    <p>Data not Found</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>


  <div class="fix-btn">
    <!-- <a class="bottom-btn" matTooltip="Add New" matTooltipPosition="above" mat-raised-button
      routerLink="/user-gift-Add"><i class="material-icons">add</i></a> -->
    <!-- <a class="bottom-btn ecxel-btn" matTooltip="Download Excel" matTooltipPosition="above" mat-raised-button
      (click)="exportAsXLSX()"><img src="assets/img/excel.svg"></a> -->
  </div>

  <div>
  </div>
</div>
<div class="h60"></div>